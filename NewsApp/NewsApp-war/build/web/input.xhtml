<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>E-News</title>
 <h:outputStylesheet library="css" name="main.css" />
    </h:head>
    <h:body>
            <ui:include src="header.xhtml"/>  
<c:if test="${empty username}">
   <ui:include src="login.xhtml"/>
</c:if>
<c:if test="${!empty username}">
  <h:form enctype="multipart/form-data"  prependId="false">
<h6> <h:message for = "titleInput" style = "color:red" /></h6>
 <h6><h:message for = "contextInput" style = "color:red" /></h6>
  <h6><h:message for = "fileInput" style = "color:red" /></h6>

            <h:panelGrid id = "panel" columns = "2" border = "1"
                         cellpadding = "10" cellspacing = "1">

                <f:facet name = "header">
                    <h:outputText value = "Add a News"/>
                </f:facet>
                <h:outputLabel value = "Title" />
                      <h:inputText id = "titleInput" value = "#{newsInfo.title}"  required="true">
            <f:validateLength minimum = "5" maximum = "255" />
         </h:inputText>
                <h:outputLabel value = "Content" />
               <h:inputTextarea cols="30" rows="10"  required="true"  value="#{newsInfo.content}" id="contextInput">
                <f:validateLength minimum = "5" maximum = "255" />
               </h:inputTextarea>
                     <h:outputLabel value = "File" />
               <h:inputFile value="#{newsInfo.image}" validator="#{newsService.validateFile}" id="fileInput" required="true"/>

                <f:facet name = "footer">
                    <h:panelGroup style = "display:block; text-align:center">
                     <h:commandButton value="Submit" type="submit" action="#{newsController.addFileSubmit()}" style="color: red;"/>
                      <h:button value="cancel"  outcome="main"/>
                     </h:panelGroup>
                </f:facet>
            </h:panelGrid>
        </h:form>
    
             
</c:if>
            <ui:include src="footer.xhtml"/>    
        
    </h:body>
</html>

